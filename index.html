<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>2025 åŒ—ä¹å· ç¨æ—…</title>
    <style>
        :root{--primary:#D35400;--accent:#E67E22;--bg:#F5F6FA;--card:#FFFFFF;--text:#2D3436;--sub:#636E72;--sunq:#16A34A;--jr:#DC2626;--dazaifu:#7C3AED;}
        @media (prefers-color-scheme: dark){:root{--bg:#1a1a1a;--card:#2d2d2d;--text:#ecf0f1;--sub:#bdc3c7;}}
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;background:var(--bg);color:var(--text);padding-bottom:80px;line-height:1.5;}

        /* ä¸Šæ–¹ç¥¨åˆ¸åˆ— */
        .pass-bar{
            position:fixed;top:0;left:0;right:0;
            background:rgba(0,0,0,0.93);backdrop-filter:blur(15px);
            color:white;z-index:9999;
            padding:10px 12px;
            padding-top:max(env(safe-area-inset-top),22px);
            display:flex;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            flex-wrap: nowrap;
            justify-content: center; /* ç¶²é ç½®ä¸­ */
            gap:10px;
        }
        .pass-tag{
            flex-shrink: 0; 
            min-width:98px;max-width:145px;
            padding:10px 6px;border-radius:18px;
            font-size:13px;font-weight:600;text-align:center;line-height:1.3;
            box-shadow:0 3px 10px rgba(0,0,0,0.4);
            transition:all .25s;
        }
        .pass-tag:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(0,0,0,0.5);}
        .pass-tag.sunq{background:var(--sunq);}
        .pass-tag.jr{background:var(--jr);}
        .pass-tag.dazaifu{background:var(--dazaifu);}
        .pass-tag.vjw{background:#2E86C1;}
        .pass-tag.emergency{background:#e74c3c;}
        
        /* æ‰‹æ©Ÿç‰ˆèª¿æ•´ */
        @media (max-width:520px){
            .pass-bar{
                gap:8px;padding:8px 10px;padding-top:max(env(safe-area-inset-top),18px);
                justify-content: flex-start; /* æ‰‹æ©Ÿé å·¦ï¼Œå¯¦ç¾æ©«å‘å·è»¸ */
            }
            .pass-tag{font-size:12.5px;padding:9px 4px;min-width:80px;}
            
            header{margin-top:calc(env(safe-area-inset-top) + 85px);}
        }

        header{
            background:linear-gradient(135deg,var(--primary),var(--accent));
            color:white;padding:24px 20px;text-align:center;
            margin-top:calc(env(safe-area-inset-top) + 85px);
        }

        /* å›åˆ°é ‚éƒ¨ï¼ˆä½ å–œæ­¡çš„ SVG ç‰ˆï¼‰ */
        .fab{
            position:fixed;bottom:max(22px,env(safe-area-inset-bottom));right:22px;
            background:var(--primary);color:white;
            width:58px;height:58px;border-radius:50%;
            display:flex;align-items:center;justify-content:center;
            box-shadow:0 5px 18px rgba(0,0,0,0.35);z-index:998;cursor:pointer;
            opacity:0;visibility:hidden;
            transition:all .4s cubic-bezier(0.4,0,0.2,1);
        }
        .fab.show{opacity:1;visibility:visible;}
        .fab:hover{transform:translateY(-6px);box-shadow:0 12px 28px rgba(211,84,0,0.5);}
        .fab svg{stroke:white;stroke-width:3;stroke-linecap:round;stroke-linejoin:round;width:34px;height:34px;}

        /* åŸæœ¬æ¨£å¼å…¨éƒ¨ä¿ç•™ */
        h1{font-size:25px;font-weight:800;margin:0;}
        .subtitle{font-size:15px;opacity:0.95;margin-top:6px;}
        .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.85);z-index:1000;justify-content:center;align-items:center;}
        .modal-content{background:var(--card);margin:20px;padding:24px;border-radius:16px;max-width:90%;max-height:85%;overflow-y:auto;box-shadow:0 12px 40px rgba(0,0,0,0.35);position:relative;text-align:center;}
        .close{position:absolute;top:8px;right:15px;font-size:32px;color:var(--sub);cursor:pointer;}
        
        /* å°ˆé–€èª¿æ•´ VJW QR Code åœ–ç‰‡å¤§å° */
        #vjw-modal img {
            max-width: 250px; /* è¨­å®šåˆç†çš„ QR Code æœ€å¤§å°ºå¯¸ */
            width: 85%; /* åœ¨å°è¢å¹•ä¸Šä»èƒ½éŸ¿æ‡‰å¼ç¸®å° */
            height: auto;
            margin: 15px auto; /* åŠ ä¸Šä¸Šä¸‹é‚Šè·ä¸¦ç½®ä¸­ */
            display: block;
            border: 4px solid var(--card); /* è®“ QR Code åœ¨æ·±è‰²èƒŒæ™¯ä¸‹æœ‰é‚Šç•Œæ„Ÿ */
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .container{max-width:600px;margin:0 auto;padding:0 15px;}
        .day-group{margin:20px 0;}
        .day-header{background:var(--card);padding:16px;border-radius:14px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 3px 10px rgba(0,0,0,0.09);cursor:pointer;border-left:6px solid var(--primary);user-select:none;}
        .day-title{font-weight:bold;font-size:16.5px;}
        .toggle{font-size:24px;transition:transform .3s;font-weight:bold;}
        .active .toggle{transform:rotate(180deg);}
        .spots{display:none;padding-left:14px;border-left:2px solid #ddd;margin-left:15px;margin-top:12px;}
        .active .spots{display:block;}
        .spot{background:var(--card);margin:14px 0 14px 16px;padding:15px;border-radius:14px;position:relative;box-shadow:0 3px 8px rgba(0,0,0,0.07);}
        .spot::before{content:'';position:absolute;left:-22px;top:20px;width:11px;height:11px;border-radius:50%;background:var(--sub);border:2.5px solid var(--bg);}
        .spot.sunq::before{background:var(--sunq);}
        .spot.jr::before{background:var(--jr);}
        .spot.dazaifu::before{background:var(--dazaifu);}
        .time{background:#f0f0f0;color:var(--sub);padding:4px 10px;border-radius:6px;font-size:11.5px;font-weight:600;margin-bottom:7px;display:inline-block;}
        .title{font-size:16.5px;font-weight:600;display:flex;align-items:center;justify-content:space-between;}
        .check{width:21px;height:21px;border:2.5px solid #ccc;border-radius:50%;margin-right:11px;cursor:pointer;flex-shrink:0;}
        .done .check{background:var(--primary);border-color:var(--primary);position:relative;}
        .done .check::after{content:'âœ“';color:white;font-size:13px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);}
        .done .title{text-decoration:line-through;opacity:0.6;}
        .content{font-size:14px;color:var(--sub);line-height:1.6;margin:7px 0;}
        .content a{color:#3498db;text-decoration:underline;}
        .tags{display:flex;gap:7px;flex-wrap:wrap;margin-top:9px;font-size:11.5px;}
        .tag{padding:4px 9px;border-radius:5px;}
        .tag.pass{background:#e8f5e9;color:#1a7431;}
        .tag.save{background:#f0f8ff;color:#0066cc;font-weight:700;}
        .map{background:#3498db;color:white;padding:5px 9px;border-radius:5px;font-size:10.5px;cursor:pointer;}
    </style>
</head>
<body>

<div class="pass-bar">
    <div class="pass-tag sunq" data-modal="sunq">SUNQ Pass<br>D1-D2</div>
    <div class="pass-tag jr" data-modal="jr">JRåŒ—ä¹å·<br>3æ—¥åˆ¸</div>
    <div class="pass-tag dazaifu" data-modal="dazaifu">å¤ªå®°åºœ<br>ä¸€æ—¥åˆ¸</div>
    <div class="pass-tag vjw" onclick="toggleVjwModal()">å…¥å¢ƒ<br>QR Code</div>
    <div class="pass-tag emergency" data-modal="emergency">ç·Šæ€¥<br>è¯çµ¡</div>
</div>

<div class="fab" id="backToTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">
    <svg viewBox="0 0 24 24" fill="none">
        <path d="M12 19V5M5 12l7-7 7 7"/>
    </svg>
</div>

<div id="vjw-modal" class="modal" onclick="if(event.target===this)toggleVjwModal()">
    <div class="modal-content">
        <span class="close" onclick="toggleVjwModal()">Ã—</span>
        <h2 style="margin-bottom:15px;color:#2E86C1;">æ—¥æœ¬å…¥å¢ƒ QR Code</h2>
        <p style="margin-bottom:20px;color:#e74c3c;font-weight:600;">æŠµé”å¤§åˆ†æ©Ÿå ´å¾Œç›´æ¥çµ¦ç§»æ°‘å®˜æƒæ</p>
        <img src="images/vjw_digital_qrcode.png" onerror="this.onerror=null;this.src='https://raw.githubusercontent.com/NoxianVBD/Trip/main/images/vjw_digital_qrcode.png'" alt="å…¥å¢ƒ QR Code">
        <p style="margin-top:20px;font-size:13px;color:var(--sub);">æœ‰æ•ˆæ—¥æœŸï¼š2025-12-10</p>
    </div>
</div>

<div id="flight-modal" class="modal" onclick="if(event.target===this)closeModal()">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">Ã—</span>
        <h2 style="margin:15px 0;">ç­æ©Ÿè³‡è¨Šè©³æƒ…</h2>
        <img src="images/flight-schedule.jpg" onerror="this.onerror=null;this.src='https://raw.githubusercontent.com/NoxianVBD/Trip/main/images/flight-schedule.jpg'" alt="ç­æ©Ÿè³‡è¨Š" style="max-width: 100%; height: auto;">
        <p style="margin-top:15px;color:#e74c3c;font-size:14.5px;">
          å»ç¨‹ IT750ã€€12:00 TPE â†’ 15:00 OITã€€ã€€å›ç¨‹ IT241ã€€10:55 FUK â†’ 12:40 TPEã€€åº§ä½ 8A
        </p>
    </div>
</div>

<div id="modal" class="modal" onclick="if(event.target===this)closeModal()">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">Ã—</span>
        <div id="modal-body"></div>
    </div>
</div>

<header>
    <h1>2025 åŒ—ä¹å· ç¨æ—…</h1>
    <div class="subtitle">12/10 å¤§åˆ†æ©Ÿå ´ IT750 â†’ 12/16 ç¦å²¡æ©Ÿå ´ IT241</div>
</header>

<div class="container" id="timeline"></div>

<script>
const passInfo = { 
    sunq:{title:"SUNQ Pass Northern Kyushu 2æ—¥åˆ¸",info:"Â¥8,000ï¼Œæ¶µè“‹åŒ—éƒ¨ä¹å·æ‰€æœ‰é«˜é€Ÿ/æ™®é€šå·´å£«",benefits:"D1æ©Ÿå ´â†’åˆ¥åºœã€D2ç”±å¸ƒé™¢ä¾†å›å…¨åŒ…",save:"çœ Â¥3,600"},
    jr:{title:"JR Northern Kyushu Rail Pass 3æ—¥åˆ¸",info:"Â¥12,000ï¼Œæ¶µè“‹åŒ—éƒ¨ä¹å·æ‰€æœ‰JRç·šï¼ˆå«Sonicç‰¹æ€¥ï¼‰",benefits:"D3åˆ¥åºœâ†’åšå¤šã€D4é–€å¸æ¸¯ä¾†å›å…¨åŒ…",save:"çœ Â¥8,000+"},
    dazaifu:{title:"å¤ªå®°åºœä¸€æ—¥åˆ¸",info:"Â¥820ï¼Œè¥¿éµä¾†å›+å¤ªå®°åºœå¸‚å…§å·´å£«ç„¡é™æ¬¡",benefits:"å…‰æ˜ç¦ªå¯ºã€ç«ˆé–€ç¥ç¤¾äº¤é€šå…¨åŒ…",save:"çœ Â¥1,400+"},
    emergency:{title:"æ—¥æœ¬ç·Šæ€¥é›»è©±",info:"è­¦å¯Ÿï¼š110<br>æ¶ˆé˜²/æ•‘è­·ï¼š119<br>å°ç£é§ç¦å²¡è¾¦äº‹è™•ï¼š+81-92-734-2810<br>ä¿¡ç”¨å¡æ›å¤±ï¼ˆå°ç£ï¼‰ï¼š<br>åœ‹æ³°ä¸–è¯ï¼š+886-2-8073-1515<br>å°æ–°ï¼š+886-2-2655-3355<br>å¯Œé‚¦ï¼š+886-2-8751-5151"}
};

// é—œé–‰æ‰€æœ‰ Modals å’Œ Day Groups çš„ä¸­å¤®æ§åˆ¶å™¨
function closeAllModals() {
    document.getElementById('modal').style.display = 'none';
    document.getElementById('vjw-modal').style.display = 'none';
    document.getElementById('flight-modal').style.display = 'none';
    
    // ç¢ºä¿è¡Œç¨‹åˆ—è¡¨ Accordion ä¹Ÿè¢«é—œé–‰
    document.querySelectorAll('.day-group').forEach(group => {
        group.classList.remove('active');
    });
}

// QR Code çš„é–‹é—œ/åˆ‡æ›é‚è¼¯
function toggleVjwModal() {
    const vjwModal = document.getElementById('vjw-modal');
    const isActive = vjwModal.style.display === 'flex';
    
    closeAllModals(); // é»æ“Šæ™‚å…ˆé—œé–‰æ‰€æœ‰é–‹å•Ÿçš„å…§å®¹ (åŒ…æ‹¬å®ƒè‡ªå·±)
    
    // å¦‚æœå®ƒåŸæœ¬æ˜¯é—œé–‰çš„ (isActive=false)ï¼Œå‰‡é‡æ–°é–‹å•Ÿ
    if (!isActive) {
        vjwModal.style.display = 'flex';
    }
}

// å¯¦ç¾æ‰‹é¢¨ç´æ•ˆæœ (Accordion) çš„é‚è¼¯
function toggleDay(event) {
    const clickedGroup = event.currentTarget.parentNode;
    const isActive = clickedGroup.classList.contains('active');
    
    // ç¢ºä¿åœ¨é–‹å•Ÿ Day Group æ™‚ï¼Œæ‰€æœ‰é ‚éƒ¨ Modals éƒ½æ˜¯é—œé–‰çš„
    closeAllModals(); 

    const allGroups = document.querySelectorAll('.day-group');
    
    // 1. éæ­·æ‰€æœ‰ day-groupï¼Œå°‡å®ƒå€‘å…¨éƒ¨é—œé–‰
    allGroups.forEach(group => {
        group.classList.remove('active');
    });

    // 2. å¦‚æœåŸæœ¬æ˜¯é—œé–‰çš„ï¼Œå‰‡é‡æ–°æ‰“é–‹å®ƒ
    if (!isActive) {
        clickedGroup.classList.add('active');
    }
}

// è™•ç† Pass Modals çš„é–‹å•Ÿ (SunQ, JR, Emergency)
function openModal(e){
    // é»æ“Š Pass Icon æ™‚ï¼Œå…ˆé—œé–‰æ‰€æœ‰å…¶ä»–å…§å®¹
    closeAllModals(); 
    
    const t = e.target.closest('.pass-tag')?.dataset.modal;
    if (!t) return;
    const pass = passInfo[t];
    const benefitOrSave = pass.benefits || pass.save;
    let benefitsHtml = '';
    if (benefitOrSave) {
        benefitsHtml = `<p style="margin-top:15px;"><strong>å¥½è™•/èªªæ˜ï¼š</strong><br>${benefitOrSave}</p>`;
    }
    document.getElementById('modal-body').innerHTML = `
        <h2 style="margin-bottom:10px;">${pass.title}</h2>
        <p>${pass.info}</p>
        ${benefitsHtml}
    `;
    document.getElementById('modal').style.display = 'flex';
}
function closeModal(){
    document.getElementById('modal').style.display='none';
    document.getElementById('flight-modal').style.display='none';
}

// ã€é‡è¦ä¿®æ­£å€ã€‘é‡å° iOS ä½¿ç”¨ Google Maps URL Scheme
function openMap(lat,lng,name){
    // ä¸éœ€è¦ queryï¼Œç›´æ¥ä½¿ç”¨ç¶“ç·¯åº¦å®šä½æœ€ç²¾ç¢º
    const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
    let url;
    
    if (isIOS) {
        // ğŸš¨ ä¿®æ­£ï¼šä½¿ç”¨ Google Maps App çš„ URL Scheme å¼·åˆ¶é–‹å•Ÿ App
        url = `comgooglemaps://?q=${lat},${lng}`;
    } else {
        // Android/ä¸€èˆ¬ç€è¦½å™¨ï¼šä½¿ç”¨æ¨™æº– Google Maps ç¶²é é€£çµ
        url = `https://maps.google.com/?q=${lat},${lng}`;
    }
    
    location.href = url;
}

/* å›åˆ°é ‚éƒ¨æ·¡å…¥ */
const fab = document.getElementById('backToTop');
window.addEventListener('scroll', () => {
    fab.classList.toggle('show', window.scrollY > 300);
});

/* å®Œæ•´è¡Œç¨‹è³‡æ–™ï¼ˆç¶“ç·¯åº¦å·²ä¿®æ­£ï¼‰ */
const trip={days:[ 
    {d:"D1",date:"12/10ï¼ˆä¸‰ï¼‰",title:"å¤§åˆ†æ©Ÿå ´ â†’ åˆ¥åºœå…¥ä½",spots:[
        {t:"15:00",title:"æŠµé”å¤§åˆ†æ©Ÿå ´ OIT (IT750)",c:"é€šé—œï¼‹è¡Œæç´„45åˆ†<br><b onclick=\"closeAllModals();document.getElementById('flight-modal').style.display='flex'\">é»é€™è£¡æŸ¥çœ‹å®Œæ•´ç­æ©Ÿè³‡è¨Š</b>",lat:33.4806,lng:131.7355},
        {t:"15:50",title:"æ©Ÿå ´å·´å£« â†’ åˆ¥åºœç«™",c:"50åˆ†ç›´é”",cost:1600,pass:"SUNQ (å•Ÿç”¨æ­¤æ—¥)",save:1600,lat:33.2789,lng:131.4998,type:"sunq"},
        {t:"16:40",title:"å…¥ä½ äº€ã®äº•ãƒ›ãƒ†ãƒ«åˆ¥åºœ",c:"ç«™èµ°6åˆ†ï¼Œä¼‘æ¯æ•´ç†",stay:true,lat:33.2792,lng:131.5002},
        {t:"17:30",title:"æ™šé¤ï¼šã¨ã‚ˆå¸¸ åˆ¥åºœé§…å‰åº—",c:"äººæ°£ç‰¹ä¸Šå¤©ä¸¼",lat:33.2798,lng:131.5032}
    ]},
    {d:"D2",date:"12/11ï¼ˆå››ï¼‰",title:"ç”±å¸ƒé™¢é‡‘é±—æ¹–å†¬éœ§å…¨æ—¥",spots:[
        {t:"07:30",title:"é£¯åº— â†’ åˆ¥åºœç«™è¥¿å£",c:"æ­¥è¡Œ6åˆ†",lat:33.2789,lng:131.4998},
        {t:"08:20",title:"36ç•ªå·´å£« â†’ ç”±å¸ƒé™¢",c:"50åˆ†ï¼ŒSUNQå…¨æ¶µè“‹ï¼ˆçœÂ¥1,000ï¼‰",cost:1000,pass:"SUNQ",save:1000,lat:33.2650,lng:131.3614,type:"sunq"},
        {t:"09:20-10:30",title:"é‡‘é±—æ¹– å†¬éœ§æœ€ç¾æ™‚æ®µ",c:"ç”±å¸ƒé™¢ç«™æ­¥è¡Œ5åˆ†<br>12æœˆä¸­æ—¬æ¿ƒéœ§æ©Ÿç‡80%+",lat:33.2605,lng:131.36},
        {t:"10:30-12:30",title:"æ¹¯ä¹‹åªè¡—é“æ•£ç­– + åˆé¤",c:"B-speakç‘å£«æ²ã€ç†±ç´…é…’ã€è’¸æ —å­",lat:33.263,lng:131.361},
        {t:"13:00-15:00",title:"Floral Village èŠ±å…’æ‘èŠ",c:"é¾è²“ã€å²åŠªæ¯”ã€æ„›éº—çµ²ä¸»é¡Œ",lat:33.2639,lng:131.3644},
        {t:"15:00-16:20",title:"è‡ªç”±æ™‚é–“",c:"ç”±å¸ƒé™¢è¶³æ¹¯ã€å’–å•¡å»³"},
        {t:"16:30",title:"36ç•ªå·´å£« è¿”å›åˆ¥åºœ",c:"50åˆ†ï¼ŒSUNQå…¨æ¶µè“‹ï¼ˆçœÂ¥1,000ï¼‰",cost:1000,pass:"SUNQ",save:1000,lat:33.2789,lng:131.4998,type:"sunq"}
    ]},
    {d:"D3",date:"12/12ï¼ˆäº”ï¼‰",title:"åˆ¥åºœçºœè»Šï¼‹åœ°ç„ç²¾è¯ â†’ åšå¤š",spots:[
        {t:"08:20",title:"å·´å£« â†’ åˆ¥åºœçºœè»Š",c:"41/50/51/52è™Ÿï¼Œç´„25åˆ†ï¼ŒÂ¥480ï¼ˆéSUNQï¼‰",lat:33.3134,lng:131.4284},
        {t:"08:50",title:"åˆ¥åºœçºœè»Š (é¶´è¦‹å²³)",c:"ä¾†å›Â¥1,800",lat:33.3134,lng:131.4284},
        {t:"11:00",title:"çºœè»Š â†’ éµè¼ªåœ°ç„å€",c:"15åˆ†ç›´é”æµ·åœ°ç„é–€å£",lat:33.31681,lng:131.48324,type:"sunq"},
        {t:"11:30",title:"åœ°ç„å·¡è¿´ç²¾è¯3å€‹",c:"æµ·åœ°ç„ã€é¬¼çŸ³åŠä¸»ã€ç¶åœ°ç„ï¼ˆå–®è²·Â¥1,350ï¼‰",lat:33.3167,lng:131.4833},
        {t:"13:50",title:"Sonicç‰¹æ€¥ â†’ åšå¤š",c:"2å°æ™‚ï¼Œè‡ªç”±å¸­",cost:10940,pass:"JR (å•Ÿç”¨æ­¤æ—¥)",save:10940,lat:33.5902,lng:130.4205,type:"jr"},
        {t:"16:00",title:"å…¥ä½ è¯ç››é “R&B åšå¤šé§…å‰ç¬¬2",c:"åšå¤šå£æ­¥è¡Œ4åˆ†",stay:true,lat:33.59015,lng:130.42128}
    ]},
    {d:"D4",date:"12/13ï¼ˆå…­ï¼‰",title:"å°å€‰åŸ â†’ ä¸‹é—œ â†’ é–€å¸æ¸¯è—ç¿¼æ©‹",spots:[
        {t:"08:00",title:"åšå¤š â†’ å°å€‰åŸ",c:"JR 52-68åˆ†",cost:2000,pass:"JR",save:2000,type:"jr",lat:33.8824,lng:130.8789},
        {t:"12:25",title:"å”æˆ¶å¸‚å ´å£½å¸åˆé¤",c:"é€±å…­æœ€ç†±é¬§ï¼æ²³è±šæ¡å£½å¸å¿…åƒ",lat:33.9568,lng:130.9415},
        {t:"16:00",title:"è—ç¿¼æ©‹é–‹åˆç§€ï¼ˆæœ€çµ‚å ´ï¼‰",c:"60åº¦å‡èµ·ï¼‹å¤•é™½",lat:33.9475,lng:130.9625},
        {t:"17:10",title:"é–€å¸æ¸¯ â†’ åšå¤š",c:"ç´„90åˆ†",cost:2200,pass:"JR",save:2200,type:"jr"}
    ]},
    {d:"D5",date:"12/14ï¼ˆæ—¥ï¼‰",title:"å¤ªå®°åºœå…¨æ—¥ï¼ˆ100%ä¸‹å¡ç‰ˆï¼‰",spots:[
        {t:"09:00",title:"åšå¤š â†’ è¥¿éµå¤©ç¥ç«™",c:"åœ°éµ7åˆ†â†’å¤©ç¥ç«™è²·å¤ªå®°åºœä¸€æ—¥åˆ¸Â¥820",lat:33.5898,lng:130.3995},
        {t:"09:25",title:"è¥¿éµ â†’ å¤ªå®°åºœç«™",c:"30-35åˆ†ï¼Œä¸€æ—¥åˆ¸å…¨åŒ…",pass:"å¤ªå®°åºœä¸€æ—¥åˆ¸ (å•Ÿç”¨æ­¤æ—¥)",save:1400,lat:33.5218,lng:130.5359,type:"dazaifu"},
        {t:"09:50",title:"ã¾ã»ã‚ã°è™Ÿå·´å£« â†’ ç«ˆé–€ç¥ç¤¾",c:"10åˆ†ç›´é”å±±ä¸Š",lat:33.5193,lng:130.5239},
        {t:"10:00-14:00",title:"ç«ˆé–€ç¥ç¤¾ â†’ å¯¶æ»¿å®®ç¨»è· â†’ å¤©æ»¿å®®",c:"å…¨ç¨‹è¼•é¬†ä¸‹å¡",lat:33.5218,lng:130.5359},
        {t:"14:10",title:"å…‰æ˜ç¦ªå¯º",c:"å†¬æ—¥è‹”åº­è¶…å¤¢å¹» Â¥500",lat:33.5188,lng:130.5327},
        {t:"17:00",title:"è¿”å›åšå¤š",c:"è¥¿éµç›´é”ï¼‹åœ°éµ",pass:"å¤ªå®°åºœä¸€æ—¥åˆ¸",type:"dazaifu"}
    ]},
    {d:"D6",date:"12/15ï¼ˆä¸€ï¼‰",title:"ç¦å²¡æœ€å¾Œæ¡è³¼",spots:[
        {t:"10:00",title:"å¤©ç¥åœ°ä¸‹è¡—ï¼‹é‹æ²³åŸ",c:"è—¥å¦ã€æœé£¾ã€ä¼´æ‰‹ç¦®å…¨æƒ"},
        {t:"19:00",title:"ä¸€è˜­ç¸½åº—æˆ–ä¸€å¹¸èˆ",c:"æœ€å¾Œä¸€ç¢—è±šéª¨"}
    ]},
    {d:"D7",date:"12/16ï¼ˆäºŒï¼‰",title:"è¿”ç¨‹æ—¥",spots:[
        {t:"08:00",title:"åšå¤šç«™ â†’ ç¦å²¡æ©Ÿå ´",c:"æ©Ÿå ´å·´å£«15åˆ† Â¥280",lat:33.5843,lng:130.4465},
        {t:"10:55",title:"IT241 èµ·é£› FUK â†’ TPE",c:"<b onclick=\"closeAllModals();document.getElementById('flight-modal').style.display='flex'\">é»é€™è£¡æŸ¥çœ‹ç­æ©Ÿè©³æƒ…</b>",lat:33.5843,lng:130.4465}
    ]}
]};

function render(){
    const container=document.getElementById('timeline');
    let html='';
    trip.days.forEach(day=>{
        let spotsHTML='';
        day.spots.forEach(s=>{
            const type=s.stay?'stay':(s.type||'');
            let passTag='';
            if(s.pass && s.cost && s.save){
                passTag=`<span class="tag pass">${s.pass} æ¶µè“‹ <s>Â¥${s.cost}</s> <span class="tag save">çœ Â¥${s.save}</span></span>`;
            }else if(s.pass){
                passTag=`<span class="tag pass">${s.pass} æ¶µè“‹</span>`;
            }
            const mapBtn = s.lat ? `<button class="map" onclick="event.stopPropagation();openMap(${s.lat},${s.lng},'${s.title}')">åœ°åœ–</button>` : '';
            spotsHTML+=`
                <div class="spot ${type}" onclick="this.classList.toggle('done')">
                    <div class="time">${s.t}</div>
                    <div class="title"><div class="check"></div>${s.title}${mapBtn}</div>
                    <div class="content">${s.c}</div>
                    <div class="tags">${passTag}</div>
                </div>`;
        });
        html+=`
            <div class="day-group">
                <div class="day-header" onclick="toggleDay(event)">
                    <div><div class="day-title">${day.d} ${day.title}</div>
                    <div style="font-size:12px;color:var(--sub)">${day.date}</div></div>
                    <div class="toggle">â–¼</div>
                </div>
                <div class="spots">${spotsHTML}</div>
            </div>`;
    });
    container.innerHTML=html;
    document.querySelectorAll('.pass-tag[data-modal]').forEach(el=>el.addEventListener('click',openModal));
}
render();
</script>
</body>
</html>